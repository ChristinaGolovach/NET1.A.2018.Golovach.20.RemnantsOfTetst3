Для генерации  последовательности использовался обобщенный блок итератора, который принимает делегат содержащий в себе логику формирования последовательности, что позволяет использовать этот метод для различных типов и с различными правилами формирования последовательности.